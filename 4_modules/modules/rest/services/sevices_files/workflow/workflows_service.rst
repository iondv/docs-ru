Сервис исполнения бизнес-процессов Workflows
==============================================

**Workflows** ``workflows`` - встроенный сервис в rest модуле, который предоставляет возможности контроля и управления бизнес-процессами.

Сервис требует подключения в ``deploy.json`` и обязательного указания ``options.dataRepo``, ``options.metaRepo``, ``options.auth`` и ``options.workflow``, пример:

.. code-block:: js

    "workflows": {
            "module": "modules/rest/lib/impl/workflows",
            "options": {
              "auth": "ion://auth",
              "dataRepo": "ion://dataRepo",
              "metaRepo": "ion://metaRepo",
              "workflow": "ion://workflow"
            }
    }

Поддерживаются все `типы авторизации </4_modules/modules/rest/authorization/authorization.rst>`_, по умолчанию - авторизация учетными данными.

Сервис содержит три метода:

* ``GET`` - без параметров, возвращает информацию о текущем статусе в БП (возможные переходы)
* ``PUT`` - выполняет перевод обьекта в указанные **следующие** этапы разных БП.
* ``PATCH`` - выполняет принудительный перевод обьекта в указанные этапы разных БП.

Для всех методов запросы принимаются по пути ``<URL сервера>/rest/<имя сервиса>/:class/:id`` для идентификации обьекта данных.

Спецификация методов:
---------------------

* Получение текущего положения обьекта в бизнес-процессе: `GET <workflows_get.rst>`_
* Выполнение перехода объекта по бизнес-процессу: `PUT <workflows_put.rst>`_
* Перемещение объекта в указанное состояние бизнес-процесса: `PATCH <workflows_patch.rst>`_
