

Мета представлений - атрибутивная часть
=======================================

Описание
--------

**Атрибутивная часть меты представлений** - описывает представление атрибута класса на форме. Атрибуты содержатся в виде массивов в соответствующих полях основной части меты представлений. Представление каждого атрибута - это объект следующей структуры:

JSON
----

.. code-block::

       {
         "caption": "Редактор целых чисел [14]",
         "type": 14,
         "property": "integer_integer",
         "size": 2,
         "maskName": null,
         "mask": null,
         "mode": null,
         "fields": [],
         "hierarchyAttributes": null,
         "columns": [],
         "actions": null,
         "commands": [],
         "orderNumber": 20,
         "required": false,
         "visibility": null,
         "enablement": null,
         "obligation": null,
         "readonly": false,
         "selectionPaginated": true,
         "validators": null,
         "hint": "",
         "historyDisplayMode": 0,
         "tags": null
       }

Описание полей
--------------

.. list-table::
   :header-rows: 1

   * - Поле
     - Наименование
     - Допустимые значения
     - Описание
   * - ``"sorted"``
     - **Разрешена сортировка**
     - Логическое
     - Поле для представлений списка. Не используется в представлениях создания и изменения. Разрешает или запрещает сортировку по данному столбцу.
   * - ``"caption"``
     - **Заголовок**
     - Строка
     - Заголовок поля ввода/колонки атрибута отображаемый в представлениях.
   * - ``"type"``
     - `\ Тип <meta_view_attribute/view_types.rst>`_
     - Целое - идентификатор (код) типа
     - Тип представления атрибута.
   * - ``"property"``
     - **Атрибут**
     - Строка, только латиница без пробелов
     - Указывается имя атрибута, с которым будет работать система, а значит не может быть пустым (Кроме типа представления Группа [0]).
   * - ``"size"``
     - **Размер**
     - Целое - код размера поля ввода, типозависимо
     - Позволяет указать код размера поля для разных типов атрибута/представления. Константы в платформе `FieldSizes <meta_view_attribute/field_sizes.rst>`_
   * - ``"maskName"``
     - **Имя маски**
     - Строка
     - При наличии в платформе предустановленных масок - можно задать маску по внутреннему имени, указав его в данном поле.
   * - ``"mask"``
     - `\ Маска <meta_view_attribute/mask.rst>`_
     - Строка
     - Позволяет предопределять формат вводимого значения для атрибута.
   * - ``"mode"``
     - **Режим отображения**
     - Целое - код режима отображения
     - В ряде случаев бывает необходимо отображать данные атрибута по разному, как отображать - указывается в этом поле. `Пример использования </3_development/metadata_structure/meta_class/property_types/type_geodata100.rst>`_.
   * - ``"fields"``
     - `\ Поля <meta_view_attribute/fields.rst>`_
     - Массив объектов
     - Позволяет сформировать представление создания/изменения особым образом.
   * - ``"hierarchyAttributes"``
     - **Иерархия по**
     - объект или Null
     - *не используется в текущей версии*
   * - ``"columns"``
     - **Столбцы**
     - Массив объектов
     - Применяется для атрибутов типа "Коллекция [3]". Позволяет выбрать атрибуты для отображения на форме представления в виде колонок таблицы (атрибуты берутся из класса по ссылке)
   * - ``"actions"``
     - **Поведение**
     - Целое или Null
     - *не используется в текущей версии*
   * - ``"commands"``
     - `\ Действия <meta_view_attribute/commands.rst>`_
     - Массив объектов либо Null
     - Описывает допустимые действия (групповые действия) над объектами ссылочного поля. Null для дефолтного набора действий.
   * - ``"orderNumber"``
     - **Порядковый номер**
     - Целое неотрицательное
     - Порядковый номер атрибута задает расположение атрибута относительно других атрибутов этого же класса в пользовательском интерфейсе.
   * - ``"required"``
     - **Обязательное**
     - Логическое
     - Определяет обязательно ли заполнение данного атрибута при создании/изменении объекта.
   * - ``"visibility"``
     - `\ Условия отображения <meta_view_attribute/visibility.rst>`_
     - Строка
     - Задает условие отображения поля в представлении.
   * - ``"enablement"``
     - `\ Условия активности <meta_view_attribute/enablement.rst>`_
     - Строка
     - Задает условие активности (доступности для редактирования) поля в представлении с форматом, аналогичным условиям отображения.
   * - ``"obligation"``
     - `\ Условия обязательности <meta_view_attribute/obligation.rst>`_
     - Строка
     - Задает условие обязательности заполнения поля в представлении с форматом, аналогичным условиям отображения.
   * - ``"readonly"``
     - **Только чтение**
     - Логическое
     - Разрешает или запрещает изменять значение атрибута в данном представлении.
   * - ``"selectionPaginated"``
     - **Постраничный список выбора**
     - Логическое
     - Разрешает или запрещает постраничный список выбора.
   * - ``"validators"``
     - **Валидаторы**
     - Строка
     - Наименование валидатора, проверяющего введенные в поле атрибута значения.  ***Не реализовано**\ _
   * - ``"hint"``
     - **Подсказка**
     - Строка
     - Задает (или переопределяет заданное в поле ``"hint"`` меты атрибута) сообщение, которые выведется в пользовательском интерфейсе рядом с именем атрибута.
   * - ``"historyDisplayMode"``
     - **Отображение истории**
     - Целое
     - Указывает формат отображения истории изменения объектов.
   * - ``"tags"``
     - `\ Теги <meta_view_attribute/tags.rst>`_
     - Массив строк
     - Хранит модификаторы отображения и стили для значений атрибутов. Расширенная спецификации свойства ``tags`` применяется в ``"options"``\ , но не является взаимозаменяемой.


Структура в mongoDB (registry) для представлений списка
-------------------------------------------------------

.. code-block::

          {
               "sorted" : true,
               "caption" : "Редактор целых чисел [14]",
               "type" : 14,
               "property" : "integer_integer",
               "size" : 2,
               "maskName" : null,
               "mask" : null,
               "mode" : null,
               "fields" : [],
               "hierarchyAttributes" : null,
               "columns" : [],
               "actions" : null,
               "commands" : [],
               "orderNumber" : 20,
               "required" : false,
               "visibility" : null,
               "enablement" : null,
               "obligation" : null,
               "readonly" : false,
               "selectionPaginated" : true,
               "validators" : null,
               "hint" : "",
               "historyDisplayMode" : 0,
               "tags" : null
           }

Структура атрибута для представлений создания и изменения отличается лишь отсутствием поля ``"sorted"``.



----

